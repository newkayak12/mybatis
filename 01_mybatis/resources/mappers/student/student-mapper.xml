<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="student">
  <!-- <cache-ref namespace=""/> -->
  <!-- cache를 쓸거냐??  -->
  	<insert id="insertStudent">
  		INSERT INTO STUDENT VALUES(SEQ_STUDENT.NEXTVAL, '유병승', '01012341234', 'prince@com','경기도',default)
  	</insert>
  	<insert id="insertName" parameterType="string">
  	<!-- 내부적으로 PreparedStatment 써서 setString을 하는거랑 마찬가지 -->
  		INSERT INTO STUDENT VALUES (SEQ_STUDENT.NEXTVAL, #{name},  '01012341234', 'prince@com','경기도',default)
  	</insert>
  	
  	<insert id="insertEmail" parameterType="string">
  			INSERT INTO STUDENT VALUES(SEQ_STUDENT.NEXTVAL, '유병승', '01012341234', #{email},'경기도',default)
  	</insert>
  
  	<insert id="insertAll" parameterType="com.mybatis.model.vo.Student" >
  			INSERT INTO STUDENT VALUES(SEQ_STUDENT.NEXTVAL, #{studentName}, #{studentTel}, #{studentEmail}, #{studentAddr}  ,DEFAULT)
  			<!-- getter에 대한 규약을 잘 지켜줘야한다. getStudent~()를 찾아간다.  -->
  	</insert>
  	<insert id="insertParamMap" parameterType="map">
  			INSERT INTO STUDENT VALUES(SEQ_STUDENT.NEXTVAL,#{name}, #{phone}, #{email}, #{addr},DEFAULT)
  	</insert>
  	<update id="update" parameterType="com.mybatis.model.vo.Student">
  			update student set  student_tel=#{studentTel}, student_addr=#{studentAddr} where student_name=#{studentName}
  	</update>
  
  	<delete id="delete" parameterType="string">
  			delete from student where student_name = #{parameter}
  	</delete>
  	<!-- 
  		select는 반드시 반환형이 있다. 그래서 resultType을 설정해줘야한다. 
  		1. resultType : 기본 자료형, 우리가 선언한 클래스, jre클래스들을 선언할 때
  				>>우리가 선언한 클래스를 자동 매핑하는데 컬럼명과 필드명이 일치할 때 자동 매핑 (서로 대소문자를 구별하지 않고 문자만 일치하면 자동 매핑)
  		
  		2. resultMap  :  camelCase와 SnakeCase를 서로 맞춰주는 역할(VO의 필드와 컬럼의 간극을 채워주는 것)
  				> resultMap태그로 resultMap을 만든다. >> column과 멤버 변수를 매칭
  				> resultMap 태그의 id 속성의 값을 resultMap속성에 대입 
  		
  		
  		둘 다 반환형 지정하는 것임 
  	 -->
  	<select id="selectCount" resultType="_int">
			select count(*) from student
  	</select>
  	
  	
  	<!-- 
	  	<insert id="delete" parameterType="string">
	  		delete from student where student_name = #{parameter}
	  	</insert>
  	 -->
  	 
  	 <select id="selectOne" resultType="com.mybatis.model.vo.Student" parameterType="_int">
  	 	select * from student where Student_no = #{no}
  	 </select>
  	
</mapper>
